<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ROS DJ — Portfolio</title>
  <meta name="description" content="ROS DJ — Ukrainian DJ and producer (Organic House). Rostislav Dabizha.">
  <meta name="robots" content="index,follow">
  <meta name="theme-color" content="#0a0f0c">
  <link rel="preload" as="image" href="DJROS.jpg">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="icon" href="ROSDJ.jpeg" type="image/jpeg" sizes="any">
  <link rel="apple-touch-icon" href="ROSDJ.jpeg">
  <meta property="og:title" content="ROS DJ — Organic House DJ & Producer">
  <meta property="og:description" content="Deep, melodic, atmospheric Organic House sets by Rostislav Dabizha.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="DJROS.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ROS DJ — Organic House DJ & Producer">
  <meta name="twitter:description" content="Deep, melodic, atmospheric Organic House sets by Rostislav Dabizha.">
  <meta name="twitter:image" content="DJROS.jpg">
  <style>
    :root{
      --bg:#0a0f0c;
      --card:#0f1512;
      --accent:#20c997; /* muted organic green */
      --muted:#a7b0a9;
      --glass: rgba(255,255,255,0.035);
      --glow:#20c997;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
         background:var(--bg);color:#e6e9ef;line-height:1.6;scroll-behavior:smooth;opacity:0;transform:translateY(6px);filter:blur(3px);transition:opacity 600ms ease, transform 600ms ease, filter 700ms ease}
    body.is-ready{opacity:1;transform:none;filter:none}
    /* Loader */
    #loader{position:fixed;inset:0 auto auto 0;height:3px;width:0;background:linear-gradient(90deg, rgba(32,201,151,0.2), var(--accent));z-index:9999;box-shadow:0 0 18px rgba(32,201,151,0.45)}
    #loader.is-running{animation:loadbar 1.6s ease-out infinite}
    #loader.is-complete{animation:none;width:100%;opacity:0;transition:opacity .4s ease .15s}
    @keyframes loadbar{0%{width:0}60%{width:82%}100%{width:88%}}
    header{min-height:100vh;display:flex;align-items:flex-end;justify-content:center;
            background:linear-gradient(180deg, rgba(0,0,0,0.58), rgba(0,0,0,0.72)), url('DJROS.jpg') 50% 30%/cover no-repeat;
            position:relative;padding:2rem;overflow:hidden}
    header::before{content:"";position:absolute;inset:-40%;background:radial-gradient(60% 60% at 50% 40%, rgba(32,201,151,0.12), rgba(32,201,151,0) 60%);
                   filter:blur(30px);animation:floatGlow 18s ease-in-out infinite;pointer-events:none;z-index:0}
    .particles{position:absolute;inset:0;z-index:1;pointer-events:none;opacity:.28}
    .hero{max-width:1100px;width:100%;display:flex;align-items:center;justify-content:center;position:relative;z-index:2}
    .brand h1{font-size:clamp(2rem,5vw,3.6rem);letter-spacing:1.5px;margin-bottom:.4rem}
    .brand p.lead{color:var(--muted);font-size:1rem;margin-bottom:1rem}
    .actions{display:flex;gap:.6rem;flex-wrap:wrap}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.12);padding:.6rem .9rem;border-radius:10px;color:#fff;text-decoration:none;font-weight:600;position:relative;transition:transform .2s ease, border-color .2s ease, box-shadow .2s ease, background-size .25s ease}
    .btn{background-image:linear-gradient(var(--accent), var(--accent));background-repeat:no-repeat;background-position:50% 100%;background-size:0% 2px}
    .btn:hover{transform:translateY(-2px);border-color:rgba(255,255,255,0.25);box-shadow:0 6px 20px -6px rgba(32,201,151,0.3);background-size:100% 2px}
    .btn::after{content:"";position:absolute;inset:-2px;border-radius:inherit;background:radial-gradient(120px 60px at 50% 120%, rgba(32,201,151,.28), rgba(32,201,151,0) 60%);opacity:0;transition:opacity .2s ease;filter:blur(8px);pointer-events:none}
    .btn:hover::after{opacity:1}
    .btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
    .btn.ghost{background:var(--glass);}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
           border:1px solid rgba(255,255,255,0.06);padding:1.1rem;border-radius:16px;transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;backdrop-filter:saturate(140%) blur(6px)}
    .card:hover{transform:translateY(-3px);box-shadow:0 12px 36px -12px rgba(0,0,0,0.65), 0 0 0 1px rgba(255,255,255,0.04) inset}
    .portrait{height:100%;display:flex;align-items:center;justify-content:center;transform-style:preserve-3d;transition:transform .3s ease}
    .portrait img{width:100%;height:auto;border-radius:12px;display:block;object-fit:cover;filter:grayscale(30%);transition:filter .5s ease, transform .6s ease;will-change:transform;aspect-ratio:3/4}
    .portrait img:hover{filter:grayscale(0%);transform:scale(1.02)}

    main{max-width:1100px;margin:2.5rem auto;padding:0 1.2rem;}
    section{margin-bottom:2.2rem}
    .bio{display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;align-items:center}
    .bio .text h2{margin-bottom:.6rem}
    

    h2{font-size:clamp(1.1rem,2.6vw,1.4rem);font-weight:700;letter-spacing:.4px;padding-bottom:.4rem;background-image:linear-gradient(90deg, rgba(255,255,255,0), rgba(32,201,151,.5), rgba(255,255,255,0));background-repeat:no-repeat;background-position:0 100%;background-size:100% 2px;margin-bottom:.8rem;position:relative;overflow:hidden}
    .reveal.is-visible h2::after{animation:sheen 1.1s .15s ease-out 1 forwards}
    h2::after{content:"";position:absolute;top:0;left:-20%;width:18%;height:100%;background:linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.35) 50%, rgba(255,255,255,0) 100%);transform:skewX(-20deg) translateX(-120%);opacity:0.0}

    /* Gallery */
    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    .gallery img{width:100%;height:220px;object-fit:cover;border-radius:12px;display:block;filter:grayscale(20%);transition:transform .35s ease, filter .35s ease;cursor:pointer}
    .gallery img:hover{transform:scale(1.02);filter:grayscale(0%)}
    .gallery img:focus{outline:2px solid var(--accent);outline-offset:2px}

    /* Lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:none;align-items:center;justify-content:center;z-index:50}
    .lightbox.is-open{display:flex}
    .lb-inner{position:relative;max-width:min(92vw,1100px);max-height:86vh;display:flex;align-items:center;justify-content:center}
    .lb-img{max-width:100%;max-height:86vh;border-radius:10px;box-shadow:0 20px 60px rgba(0,0,0,0.6)}
    .lb-caption{position:absolute;left:0;right:0;bottom:-44px;text-align:center;color:var(--muted);font-size:.95rem}
    .lb-btn{position:absolute;top:50%;transform:translateY(-50%);width:44px;height:44px;border-radius:12px;border:1px solid rgba(255,255,255,0.18);background:rgba(20,20,20,0.6);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer}
    .lb-btn:hover{box-shadow:0 10px 30px -10px rgba(255,45,85,0.55);border-color:rgba(255,255,255,0.3)}
    .lb-prev{left:-56px}
    .lb-next{right:-56px}
    .lb-close{position:absolute;top:-56px;right:0;width:40px;height:40px;border-radius:10px;border:1px solid rgba(255,255,255,0.18);background:rgba(20,20,20,0.6);color:#fff}
    @media (max-width:720px){.lb-prev{left:8px}.lb-next{right:8px}.lb-close{top:8px;right:8px}.lb-caption{position:static;margin-top:.6rem}}

    footer{text-align:center;padding:2rem 1rem;color:var(--muted);font-size:.95rem}


    @media (max-width:880px){.hero{grid-template-columns:1fr;}.bio{grid-template-columns:1fr} .portrait img{height:300px}}

    /* Animations */
    .reveal{opacity:0;transform:translateY(12px);transition:opacity .6s ease, transform .6s ease}
    .reveal-left{transform:translateX(-16px);opacity:0}
    .reveal-right{transform:translateX(16px);opacity:0}
    /* Topbar */
    .topbar{position:sticky;top:0;z-index:5;display:flex;align-items:center;justify-content:space-between;padding:.6rem 1rem;background:linear-gradient(180deg, rgba(0,0,0,.75), rgba(0,0,0,.35));backdrop-filter:saturate(140%) blur(6px);border-bottom:1px solid rgba(255,255,255,0.06)}
    .brandmark{display:flex;align-items:center;gap:.6rem}
    .brandmark .logo{width:28px;height:28px;display:block}
    .socials{display:flex;gap:.4rem}
    .icon-btn{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:10px;border:1px solid rgba(255,255,255,0.1);color:#fff;background:transparent;transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease}
    .icon-btn:hover{transform:translateY(-1px);box-shadow:0 6px 18px -6px rgba(32,201,151,.42);border-color:rgba(255,255,255,0.22)}
    .reveal.is-visible{opacity:1;transform:none}
    .scroll-hint{position:absolute;bottom:18px;left:50%;transform:translateX(-50%);color:var(--muted);font-size:.9rem;display:flex;flex-direction:column;align-items:center;gap:.3rem;opacity:.85}
    .scroll-hint .dot{width:6px;height:6px;border-radius:50%;background:var(--accent);animation:bounce 1.6s infinite ease-in-out}
    @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(6px)}}
    .topbar{opacity:0;transform:translateY(-8px);transition:opacity .3s ease, transform .3s ease}
    .topbar.show{opacity:1;transform:none}
    @keyframes floatGlow{0%{transform:translate3d(-2%, -2%,0) scale(1)}50%{transform:translate3d(2%, 2%,0) scale(1.05)}100%{transform:translate3d(-2%, -2%,0) scale(1)}}
    @keyframes sheen{0%{opacity:.0;transform:skewX(-20deg) translateX(-120%)}15%{opacity:.5}100%{opacity:0;transform:skewX(-20deg) translateX(220%)}}
    @media (max-width:640px){.particles{display:none}}
    @media (prefers-reduced-motion: reduce){
      *{transition:none !important;animation:none !important}
    }
  </style>
</head>
<body>
  <div id="loader" class="is-running" aria-hidden="true"></div>
  <div class="topbar">
    <div class="brandmark">
      <picture>
        <source srcset="logo.png" type="image/png">
        <img class="logo" src="favicon.svg" alt="ROS DJ logo">
      </picture>
      <strong>ROS DJ</strong>
    </div>
    <nav class="socials" aria-label="Social links">
      <a class="icon-btn" href="https://soundcloud.com/rosthedj" target="_blank" aria-label="SoundCloud" rel="noopener">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M17 10a4 4 0 0 1 4 4h-9a3 3 0 0 1-3-3 3 3 0 0 1 3-3c.9 0 1.7.4 2.3 1.1A4.98 4.98 0 0 1 17 10zM2 14h1V9H2v5zm2 0h1V8H4v6zm2 0h1V7H6v7zm2 0h1V6H8v8z"/></svg>
      </a>
      <a class="icon-btn" href="https://www.instagram.com/rosthedj/" target="_blank" aria-label="Instagram" rel="noopener">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2.2a2.8 2.8 0 1 0 0 5.6 2.8 2.8 0 0 0 0-5.6zM18.5 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/></svg>
      </a>
      <a class="icon-btn" href="https://www.youtube.com/@rosthedj" target="_blank" aria-label="YouTube" rel="noopener">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M23 7.5s-.2-1.6-.8-2.3c-.8-.8-1.7-.8-2.1-.9C17.5 4 12 4 12 4h0s-5.5 0-8.1.3c-.4 0-1.3.1-2.1.9C1.2 5.9 1 7.5 1 7.5S.8 9.3.8 11v2c0 1.7.2 3.5.2 3.5s.2 1.6.8 2.3c.8.8 1.8.8 2.2.9C6.6 20 12 20 12 20s5.5 0 8.1-.3c.4-.1 1.3-.1 2.1-.9.6-.7.8-2.3.8-2.3S23.2 14.7 23.2 13V11c0-1.7-.2-3.5-.2-3.5zM9.8 14.6V8.9l5.7 2.9-5.7 2.8z"/></svg>
      </a>
      <a class="icon-btn" href="https://www.mixcloud.com/rosthedj/" target="_blank" aria-label="Mixcloud" rel="noopener">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M19.5 12.5a3.5 3.5 0 1 1-3.4-4.2 5.5 5.5 0 1 0-9.6 4.5 3.2 3.2 0 1 1 0 1.4 7 7 0 1 1 12.6-5.7 3.5 3.5 0 0 1 .4 4z"/></svg>
      </a>
    </nav>
  </div>
  <header>
    <canvas class="particles" aria-hidden="true"></canvas>
    <div class="hero" role="banner">
      <div class="scroll-hint" aria-hidden="true">
        <div class="dot"></div>
        <div>Scroll</div>
      </div>
    </div>
  </header>

  <main>
    <section id="about" class="card reveal reveal-left">
      <div class="bio">
        <div class="text">
          <h2>About ROS DJ</h2>
          <p>
            <strong>Rostislav Dabizha</strong> — Ukrainian DJ and music producer born March 10, 1999.
            ROS DJ crafts deep, melodic and atmospheric Organic House sets that guide listeners through immersive soundscapes.
            Since the beginning of the war in Ukraine, he relocated to Spain and continues to captivate audiences with a unique track selection and mixing style.
          </p>
          <p style="color:var(--muted);margin-top:.6rem;font-size:.95rem">
            Genres: Organic House · Deep House · Melodic
          </p>
        </div>
        <div>
          <div class="card portrait" aria-hidden="true" style="margin-bottom:1rem">
            <img src="ROSDJ.jpeg" alt="ROS DJ portrait">
          </div>
          <h3 style="margin-bottom:.6rem">Socials</h3>
          <div class="socials" style="gap:.5rem">
            <a class="icon-btn" href="https://soundcloud.com/rosthedj" target="_blank" aria-label="SoundCloud" rel="noopener">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M17 10a4 4 0 0 1 4 4h-9a3 3 0 0 1-3-3 3 3 0 0 1 3-3c.9 0 1.7.4 2.3 1.1A4.98 4.98 0 0 1 17 10zM2 14h1V9H2v5zm2 0h1V8H4v6zm2 0h1V7H6v7zm2 0h1V6H8v8z"/></svg>
            </a>
            <a class="icon-btn" href="https://www.instagram.com/rosthedj/" target="_blank" aria-label="Instagram" rel="noopener">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2.2a2.8 2.8 0 1 0 0 5.6 2.8 2.8 0 0 0 0-5.6zM18.5 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/></svg>
            </a>
            <a class="icon-btn" href="https://www.youtube.com/@rosthedj" target="_blank" aria-label="YouTube" rel="noopener">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M23 7.5s-.2-1.6-.8-2.3c-.8-.8-1.7-.8-2.1-.9C17.5 4 12 4 12 4h0s-5.5 0-8.1.3c-.4 0-1.3.1-2.1.9C1.2 5.9 1 7.5 1 7.5S.8 9.3.8 11v2c0 1.7.2 3.5.2 3.5s.2 1.6.8 2.3c.8.8 1.8.8 2.2.9C6.6 20 12 20 12 20s5.5 0 8.1-.3c.4-.1 1.3-.1 2.1-.9.6-.7.8-2.3.8-2.3S23.2 14.7 23.2 13V11c0-1.7-.2-3.5-.2-3.5zM9.8 14.6V8.9l5.7 2.9-5.7 2.8z"/></svg>
            </a>
            <a class="icon-btn" href="https://www.mixcloud.com/rosthedj/" target="_blank" aria-label="Mixcloud" rel="noopener">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M19.5 12.5a3.5 3.5 0 1 1-3.4-4.2 5.5 5.5 0 1 0-9.6 4.5 3.2 3.2 0 1 1 0 1.4 7 7 0 1 1 12.6-5.7 3.5 3.5 0 0 1 .4 4z"/></svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <section id="gallery" class="card reveal">
      <h2 style="margin-bottom:.6rem">Gallery</h2>
      <div class="gallery">
      </div>
    </section>

    <section id="contact" class="card reveal reveal-right">
      <h2 style="margin-bottom:.6rem">Contact</h2>
      <p style="color:var(--muted)">For bookings, press or collaborations — email: <a href="mailto:info@rosdj.es" style="color:var(--accent);text-decoration:none">info@rosdj.es</a></p>
      <p style="color:var(--muted);margin-top:.6rem">To deploy: push this folder to a GitHub repo and enable GitHub Pages (Settings → Pages → Source: main branch /root).</p>
    </section>
  </main>

  <footer>
    <div> ROS DJ — Rostislav Dabizha · Organic House</div>
  </footer>
  <script>
    // Reveal on scroll
    (function(){
      const els = document.querySelectorAll('.reveal');
      const on = (entries, obs)=>{
        entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('is-visible');obs.unobserve(e.target)}})
      }
      const io = ('IntersectionObserver' in window) ? new IntersectionObserver(on, {threshold:0.12}) : null;
      els.forEach(el=>{ if(io){io.observe(el)} else {el.classList.add('is-visible')} });
    })();

    // Subtle parallax for header background (scroll + pointer)
    (function(){
      const header = document.querySelector('header');
      if(!header) return;
      let sx = 0, sy = 0, tx = 0, ty = 0;
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)');
      window.addEventListener('scroll', ()=>{ ty = window.scrollY * 0.08; });
      header.addEventListener('pointermove', (e)=>{
        const r = header.getBoundingClientRect();
        const mx = (e.clientX - r.left)/r.width - 0.5;
        const my = (e.clientY - r.top)/r.height - 0.5;
        tx = mx * 6; // px
        sx = my * 6; // reuse var name for x/y smoothing
      });
      function loop(){
        if(reduce.matches){ return; }
        // simple easing
        let x = parseFloat(header.dataset.px||'0');
        let y = parseFloat(header.dataset.py||'0');
        x += (tx - x) * 0.08;
        y += ((-ty + sx) - y) * 0.08;
        header.dataset.px = x.toFixed(3);
        header.dataset.py = y.toFixed(3);
        header.style.backgroundPosition = `calc(50% + ${x}px) calc(50% + ${y}px)`;
        requestAnimationFrame(loop);
      }
      requestAnimationFrame(loop);
    })();

    // Ambient particles in header
    (function(){
      const canvas = document.querySelector('.particles');
      const header = document.querySelector('header');
      if(!canvas || !header) return;
      const ctx = canvas.getContext('2d');
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)');
      let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      let W=0,H=0, particles=[], running=false;
      function resize(){
        const r = header.getBoundingClientRect();
        W = Math.max(300, Math.floor(r.width));
        H = Math.max(200, Math.floor(r.height));
        canvas.width = W * dpr; canvas.height = H * dpr; canvas.style.width = W+'px'; canvas.style.height = H+'px';
        ctx.setTransform(dpr,0,0,dpr,0,0);
      }
      function rand(a,b){return a + Math.random()*(b-a)}
      function init(){
        particles=[];
        const isSmall = window.matchMedia('(max-width: 640px)').matches;
        const count = isSmall ? 0 : 16; // reduced density; none on very small screens
        for(let i=0;i<count;i++){
          particles.push({x:rand(0,W), y:rand(0,H), r:rand(0.6,2.2), a:rand(0.2,0.8), vx:rand(-0.1,0.1), vy:rand(0.05,0.2)});
        }
      }
      function step(){
        if(!running || reduce.matches){ return; }
        ctx.clearRect(0,0,W,H);
        for(const p of particles){
          p.x += p.vx; p.y += p.vy;
          if(p.x < -5) p.x = W+5; if(p.x > W+5) p.x = -5;
          if(p.y < -5) p.y = H+5; if(p.y > H+5) p.y = -5;
          const grd = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*6);
          grd.addColorStop(0, `rgba(255,45,85,${0.25*p.a})`);
          grd.addColorStop(1, 'rgba(255,45,85,0)');
          ctx.fillStyle = grd;
          ctx.beginPath();
          ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
          ctx.fill();
        }
        requestAnimationFrame(step);
      }
      function start(){ if(running || reduce.matches) return; running=true; requestAnimationFrame(step); }
      function stop(){ running=false; }
      const io = ('IntersectionObserver' in window) ? new IntersectionObserver((es)=>{
        es.forEach(e=>{ if(e.isIntersecting){ start(); } else { stop(); } })
      }, {threshold:0.01}) : null;
      window.addEventListener('resize', ()=>{ resize(); init(); });
      resize(); init();
      if(io) io.observe(header); else start();
    })();

    // Show topbar after header
    (function(){
      const header = document.querySelector('header');
      const topbar = document.querySelector('.topbar');
      if(!header || !topbar || !('IntersectionObserver' in window)) return;
      const io = new IntersectionObserver(entries=>{
        entries.forEach(e=>{
          if(e.isIntersecting){ topbar.classList.remove('show'); }
          else { topbar.classList.add('show'); }
        })
      }, {threshold:0.05});
      io.observe(header);
    })();

    // Initial page reveal
    (function(){
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)');
      const run = ()=>{
        const loader = document.getElementById('loader');
        if(reduce.matches){ document.body.classList.add('is-ready'); if(loader){loader.classList.remove('is-running');loader.classList.add('is-complete');} return; }
        setTimeout(()=>{
          document.body.classList.add('is-ready');
          if(loader){loader.classList.remove('is-running');loader.classList.add('is-complete');}
        }, 150);
      };
      if(document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', run);
      } else { run(); }
    })();

    // Lightbox for Gallery
    (function(){
      const overlay = document.createElement('div');
      overlay.className = 'lightbox';
      overlay.innerHTML = `
        <div class="lb-inner" role="dialog" aria-modal="true" aria-label="Image viewer">
          <button class="lb-btn lb-prev" aria-label="Previous" title="Previous">&#10094;</button>
          <img class="lb-img" alt="">
          <button class="lb-btn lb-next" aria-label="Next" title="Next">&#10095;</button>
          <button class="lb-close" aria-label="Close" title="Close">&#10005;</button>
          <div class="lb-caption" aria-live="polite"></div>
        </div>`;
      document.body.appendChild(overlay);
      const imgEl = overlay.querySelector('.lb-img');
      const capEl = overlay.querySelector('.lb-caption');
      const prevBtn = overlay.querySelector('.lb-prev');
      const nextBtn = overlay.querySelector('.lb-next');
      const closeBtn = overlay.querySelector('.lb-close');
      let list = [], idx = 0, touchX=0, touchY=0;

      function collect(){
        const g = document.querySelector('#gallery .gallery');
        list = g ? Array.from(g.querySelectorAll('img')) : [];
      }
      function openAt(i){
        collect();
        if(!list.length) return;
        idx = (i+list.length)%list.length;
        const el = list[idx];
        imgEl.src = el.dataset.full || el.src;
        imgEl.alt = el.alt || '';
        capEl.textContent = el.alt || '';
        overlay.classList.add('is-open');
        document.body.style.overflow = 'hidden';
        imgEl.focus({preventScroll:true});
      }
      function close(){
        overlay.classList.remove('is-open');
        document.body.style.overflow = '';
      }
      function next(n=1){ openAt(idx + n); }

      document.addEventListener('click', (e)=>{
        const t = e.target;
        if(t && t.closest('#gallery .gallery img')){
          const imgs = Array.from(document.querySelectorAll('#gallery .gallery img'));
          openAt(imgs.indexOf(t.closest('img')));
        }
        if(t === overlay){ close(); }
      });
      document.addEventListener('keydown', (e)=>{
        if(!overlay.classList.contains('is-open')) return;
        if(e.key === 'Escape') close();
        if(e.key === 'ArrowRight') next(1);
        if(e.key === 'ArrowLeft') next(-1);
      });
      prevBtn.addEventListener('click', ()=>next(-1));
      nextBtn.addEventListener('click', ()=>next(1));
      closeBtn.addEventListener('click', close);
      overlay.addEventListener('touchstart', (e)=>{ const t=e.changedTouches[0]; touchX=t.clientX; touchY=t.clientY; }, {passive:true});
      overlay.addEventListener('touchend', (e)=>{
        const t = e.changedTouches[0];
        const dx = t.clientX - touchX; const dy = Math.abs(t.clientY - touchY);
        if(Math.abs(dx) > 40 && dy < 40){ next(dx<0?1:-1); }
      }, {passive:true});
    })();
  </script>
</body>
</html>
